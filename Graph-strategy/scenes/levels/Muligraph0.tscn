[gd_scene load_steps=10 format=3 uid="uid://nttkfr7kgn4u"]

[ext_resource type="Script" path="res://scripts/managers/LevelManager.cs" id="1_drejp"]
[ext_resource type="TileSet" uid="uid://cuf6vqpwk66qv" path="res://resources/tilesets/TinySwords.tres" id="2_f6o0k"]
[ext_resource type="Script" path="res://scripts/grid/GridTileMap.cs" id="3_slnhw"]
[ext_resource type="Script" path="res://scripts/grid/GodotGrid.cs" id="4_oddvp"]
[ext_resource type="Script" path="res://scripts/managers/GraphManager.cs" id="5_7ybra"]
[ext_resource type="PackedScene" uid="uid://bmc6td63j2cxh" path="res://scenes/actors/build_phantom.tscn" id="6_vfvob"]
[ext_resource type="Texture2D" uid="uid://drrmyeihklvty" path="res://assets/Tiny Swords/Tiny Swords (Update 010)/Factions/Knights/Buildings/Tower/Tower_Blue.png" id="7_a4xgi"]
[ext_resource type="Texture2D" uid="uid://dyx2btyjnkcei" path="res://resources/sprites/Red_tower.tres" id="8_8r8wu"]
[ext_resource type="PackedScene" uid="uid://bt0o5meh7nm8b" path="res://scenes/UI/debug_canvas.tscn" id="9_t8g31"]

[node name="Template Level" type="Node2D" node_paths=PackedStringArray("grid", "buildGrid", "phantoms")]
script = ExtResource("1_drejp")
grid = NodePath("GodotGrid")
buildGrid = NodePath("BuildGrid")
phantoms = [NodePath("Phantoms/BluePhantom"), NodePath("Phantoms/RedPhantom")]

[node name="GridMap" type="TileMap" parent="." node_paths=PackedStringArray("grid")]
tile_set = ExtResource("2_f6o0k")
format = 2
layer_0/tile_data = PackedInt32Array(-655379, 393217, 1, -589843, 393217, 1, -524307, 393217, 1, -458771, 393217, 1, -393235, 393217, 1, -327699, 393217, 1, -262163, 393217, 1, -196627, 393217, 1, -131091, 393217, 1, -65555, 393217, 1, -19, 393217, 1, 65517, 393217, 1, 131053, 393217, 1, 196589, 393217, 1, 262125, 393217, 1, 327661, 393217, 1, 393197, 393217, 1, 458733, 393217, 1, 524269, 393217, 1, 589805, 393217, 1, 655341, 393217, 1, 720877, 393217, 1, -655378, 393217, 1, -589842, 393217, 1, -524306, 393217, 1, -458770, 393217, 1, -393234, 393217, 1, -327698, 393217, 1, -262162, 393217, 1, -196626, 393217, 1, -131090, 393217, 1, -65554, 393217, 1, -18, 393217, 1, 65518, 393217, 1, 131054, 393217, 1, 196590, 393217, 1, 262126, 393217, 1, 327662, 393217, 1, 393198, 393217, 1, 458734, 393217, 1, 524270, 393217, 1, 589806, 393217, 1, 655342, 393217, 1, 720878, 393217, 1, 655343, 393217, 1, 720879, 393217, 1, 655344, 393217, 1, 720880, 393217, 1, 655345, 393217, 1, 720881, 393217, 1, 655346, 393217, 1, 720882, 393217, 1, 655347, 393217, 1, 720883, 393217, 1, 655348, 393217, 1, 720884, 393217, 1, 655349, 393217, 1, 720885, 393217, 1, 655350, 393217, 1, 720886, 393217, 1, 655351, 393217, 1, 720887, 393217, 1, 655352, 393217, 1, 720888, 393217, 1, 655353, 393217, 1, 720889, 393217, 1, 655354, 393217, 1, 720890, 393217, 1, 655355, 393217, 1, 720891, 393217, 1, 655356, 393217, 1, 720892, 393217, 1, 655357, 393217, 1, 720893, 393217, 1, 655358, 393217, 1, 720894, 393217, 1, 655359, 393217, 1, 720895, 393217, 1, 589824, 393217, 1, 655360, 393217, 1, 589825, 393217, 1, 655361, 393217, 1, 589826, 393217, 1, 655362, 393217, 1, 589827, 393217, 1, 655363, 393217, 1, 589828, 393217, 1, 655364, 393217, 1, 589829, 393217, 1, 655365, 393217, 1, 589830, 393217, 1, 655366, 393217, 1, 589831, 393217, 1, 655367, 393217, 1, 589832, 393217, 1, 655368, 393217, 1, 589833, 393217, 1, 655369, 393217, 1, 589834, 393217, 1, 655370, 393217, 1, 589835, 393217, 1, 655371, 393217, 1, 589836, 393217, 1, 655372, 393217, 1, 589837, 393217, 1, 655373, 393217, 1, 589838, 393217, 1, 655374, 393217, 1, 589839, 393217, 1, 655375, 393217, 1, 589840, 393217, 1, 655376, 393217, 1, 589841, 393217, 1, 655377, 393217, 1, 589842, 393217, 1, 655378, 393217, 1, -720879, 393217, 1, -655343, 393217, 1, -589807, 393217, 1, -524271, 393217, 1, -458735, 393217, 1, -393199, 393217, 1, -327663, 393217, 1, -262127, 393217, 1, -196591, 393217, 1, -131055, 393217, 1, -65519, 393217, 1, 17, 393217, 1, 65553, 393217, 1, 131089, 393217, 1, 196625, 393217, 1, 262161, 393217, 1, 327697, 393217, 1, 393233, 393217, 1, 458769, 393217, 1, 524305, 393217, 1, -720878, 393217, 1, -655342, 393217, 1, -589806, 393217, 1, -524270, 393217, 1, -458734, 393217, 1, -393198, 393217, 1, -327662, 393217, 1, -262126, 393217, 1, -196590, 393217, 1, -131054, 393217, 1, -65518, 393217, 1, 18, 393217, 1, 65554, 393217, 1, 131090, 393217, 1, 196626, 393217, 1, 262162, 393217, 1, 327698, 393217, 1, 393234, 393217, 1, 458770, 393217, 1, 524306, 393217, 1, -655377, 393217, 1, -589841, 393217, 1, -655376, 393217, 1, -589840, 393217, 1, -655375, 393217, 1, -589839, 393217, 1, -655374, 393217, 1, -589838, 393217, 1, -655373, 393217, 1, -589837, 393217, 1, -655372, 393217, 1, -589836, 393217, 1, -655371, 393217, 1, -589835, 393217, 1, -655370, 393217, 1, -589834, 393217, 1, -655369, 393217, 1, -589833, 393217, 1, -655368, 393217, 1, -589832, 393217, 1, -655367, 393217, 1, -589831, 393217, 1, -655366, 393217, 1, -589830, 393217, 1, -655365, 393217, 1, -589829, 393217, 1, -655364, 393217, 1, -589828, 393217, 1, -655363, 393217, 1, -589827, 393217, 1, -655362, 393217, 1, -589826, 393217, 1, -655361, 393217, 1, -589825, 393217, 1, -720896, 393217, 1, -655360, 393217, 1, -720895, 393217, 1, -655359, 393217, 1, -720894, 393217, 1, -655358, 393217, 1, -720893, 393217, 1, -655357, 393217, 1, -720892, 393217, 1, -655356, 393217, 1, -720891, 393217, 1, -655355, 393217, 1, -720890, 393217, 1, -655354, 393217, 1, -720889, 393217, 1, -655353, 393217, 1, -720888, 393217, 1, -655352, 393217, 1, -720887, 393217, 1, -655351, 393217, 1, -720886, 393217, 1, -655350, 393217, 1, -720885, 393217, 1, -655349, 393217, 1, -720884, 393217, 1, -655348, 393217, 1, -720883, 393217, 1, -655347, 393217, 1, -720882, 393217, 1, -655346, 393217, 1, -720881, 393217, 1, -655345, 393217, 1, -720880, 393217, 1, -655344, 393217, 1, -524292, 65537, 1, -458756, 65537, 1, -393220, 65537, 1, -327684, 65537, 1, -262148, 65537, 1, -196612, 65537, 1, -131076, 65537, 1, 131068, 65537, 1, 196604, 65537, 1, 65532, 65537, 1, -4, 65537, 1, 262140, 65537, 1, -65540, 65537, 1, 393212, 65537, 1, 327676, 65537, 1, 327680, 65537, 1, 327681, 65537, 1, 327682, 65537, 1, 393215, 65537, 1, 65536, 65537, 1, 0, 65537, 1, 131072, 65537, 1, -131072, 65537, 1, -196608, 65537, 1, -262144, 65537, 1, -393216, 65537, 1, -458752, 65537, 1, -524288, 65537, 1, -131074, 65537, 1, -131073, 65537, 1, -196607, 65537, 1, -196606, 65537, 1, -458746, 65537, 1, -393210, 65537, 1, -327674, 65537, 1, -262138, 65537, 1, -196602, 65537, 1, -524282, 65537, 1, -196604, 65537, 1, -196603, 65537, 1, -196601, 65537, 1, -196600, 65537, 1, -589814, 65537, 1, -524278, 65537, 1, -458742, 65537, 1, -393206, 65537, 1, -327670, 65537, 1, -262134, 65537, 1, -196598, 65537, 1, -131062, 65537, 1, -65526, 65537, 1, 10, 65537, 1, 65546, 65537, 1, 131082, 65537, 1, 196618, 65537, 1, 262154, 65537, 1, 327690, 65537, 1, 327687, 65537, 1, 327686, 65537, 1, 327685, 65537, 1, 327684, 65537, 1, 131078, 65537, 1, 65542, 65537, 1, 6, 65537, 1, -131066, 65537, 1, 327683, 65537, 1, 393214, 65537, 1, 327688, 65537, 1, 262144, 65537, 1, 262150, 65537, 1, 327689, 65537, 1, 393213, 65537, 1)
script = ExtResource("3_slnhw")
grid = NodePath("../GodotGrid")

[node name="BuildMap" type="TileMap" parent="." node_paths=PackedStringArray("grid")]
tile_set = ExtResource("2_f6o0k")
format = 2
layer_0/tile_data = PackedInt32Array(-655379, 4, 0, -589843, 4, 0, -524307, 4, 0, -458771, 4, 0, -393235, 4, 0, -327699, 4, 0, -262163, 4, 0, -196627, 4, 0, -131091, 4, 0, -65555, 4, 0, -19, 4, 0, 65517, 4, 0, 131053, 4, 0, 196589, 4, 0, 262125, 4, 0, 327661, 4, 0, 393197, 4, 0, 458733, 4, 0, 524269, 4, 0, 589805, 4, 0, 655341, 4, 0, 720877, 4, 0, -655378, 4, 0, -589842, 4, 0, -524306, 4, 0, -458770, 4, 0, -393234, 4, 0, -327698, 4, 0, -262162, 4, 0, -196626, 4, 0, -131090, 4, 0, -65554, 4, 0, -18, 4, 0, 65518, 4, 0, 131054, 4, 0, 196590, 4, 0, 262126, 4, 0, 327662, 4, 0, 393198, 4, 0, 458734, 4, 0, 524270, 4, 0, 589806, 4, 0, 655342, 4, 0, 720878, 4, 0, 655343, 4, 0, 720879, 4, 0, 655344, 4, 0, 720880, 4, 0, 655345, 4, 0, 720881, 4, 0, 655346, 4, 0, 720882, 4, 0, 655347, 4, 0, 720883, 4, 0, 655348, 4, 0, 720884, 4, 0, 655349, 4, 0, 720885, 4, 0, 655350, 4, 0, 720886, 4, 0, 655351, 4, 0, 720887, 4, 0, 655352, 4, 0, 720888, 4, 0, 655353, 4, 0, 720889, 4, 0, 655354, 4, 0, 720890, 4, 0, 655355, 4, 0, 720891, 4, 0, 655356, 4, 0, 720892, 4, 0, 655357, 4, 0, 720893, 4, 0, 655358, 4, 0, 720894, 4, 0, 655359, 4, 0, 720895, 4, 0, 589824, 4, 0, 655360, 4, 0, 589825, 4, 0, 655361, 4, 0, 589826, 4, 0, 655362, 4, 0, 589827, 4, 0, 655363, 4, 0, 589828, 4, 0, 655364, 4, 0, 589829, 4, 0, 655365, 4, 0, 589830, 4, 0, 655366, 4, 0, 589831, 4, 0, 655367, 4, 0, 589832, 4, 0, 655368, 4, 0, 589833, 4, 0, 655369, 4, 0, 589834, 4, 0, 655370, 4, 0, 589835, 4, 0, 655371, 4, 0, 589836, 4, 0, 655372, 4, 0, 589837, 4, 0, 655373, 4, 0, 589838, 4, 0, 655374, 4, 0, 589839, 4, 0, 655375, 4, 0, 589840, 4, 0, 655376, 4, 0, 589841, 4, 0, 655377, 4, 0, 589842, 4, 0, 655378, 4, 0, -720879, 4, 0, -655343, 4, 0, -589807, 4, 0, -524271, 4, 0, -458735, 4, 0, -393199, 4, 0, -327663, 4, 0, -262127, 4, 0, -196591, 4, 0, -131055, 4, 0, -65519, 4, 0, 17, 4, 0, 65553, 4, 0, 131089, 4, 0, 196625, 4, 0, 262161, 4, 0, 327697, 4, 0, 393233, 4, 0, 458769, 4, 0, 524305, 4, 0, -720878, 4, 0, -655342, 4, 0, -589806, 4, 0, -524270, 4, 0, -458734, 4, 0, -393198, 4, 0, -327662, 4, 0, -262126, 4, 0, -196590, 4, 0, -131054, 4, 0, -65518, 4, 0, 18, 4, 0, 65554, 4, 0, 131090, 4, 0, 196626, 4, 0, 262162, 4, 0, 327698, 4, 0, 393234, 4, 0, 458770, 4, 0, 524306, 4, 0, -655377, 4, 0, -589841, 4, 0, -655376, 4, 0, -589840, 4, 0, -655375, 4, 0, -589839, 4, 0, -655374, 4, 0, -589838, 4, 0, -655373, 4, 0, -589837, 4, 0, -655372, 4, 0, -589836, 4, 0, -655371, 4, 0, -589835, 4, 0, -655370, 4, 0, -589834, 4, 0, -655369, 4, 0, -589833, 4, 0, -655368, 4, 0, -589832, 4, 0, -655367, 4, 0, -589831, 4, 0, -655366, 4, 0, -589830, 4, 0, -655365, 4, 0, -589829, 4, 0, -655364, 4, 0, -589828, 4, 0, -655363, 4, 0, -589827, 4, 0, -655362, 4, 0, -589826, 4, 0, -655361, 4, 0, -589825, 4, 0, -720896, 4, 0, -655360, 4, 0, -720895, 4, 0, -655359, 4, 0, -720894, 4, 0, -655358, 4, 0, -720893, 4, 0, -655357, 4, 0, -720892, 4, 0, -655356, 4, 0, -720891, 4, 0, -655355, 4, 0, -720890, 4, 0, -655354, 4, 0, -720889, 4, 0, -655353, 4, 0, -720888, 4, 0, -655352, 4, 0, -720887, 4, 0, -655351, 4, 0, -720886, 4, 0, -655350, 4, 0, -720885, 4, 0, -655349, 4, 0, -720884, 4, 0, -655348, 4, 0, -720883, 4, 0, -655347, 4, 0, -720882, 4, 0, -655346, 4, 0, -720881, 4, 0, -655345, 4, 0, -720880, 4, 0, -655344, 4, 0)
script = ExtResource("3_slnhw")
grid = NodePath("../BuildGrid")

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("2_f6o0k")
format = 2
layer_0/name = "Base"
layer_1/name = "Ground"
layer_1/tile_data = PackedInt32Array()
layer_2/tile_data = PackedInt32Array()
layer_3/name = "Shadow"
layer_3/tile_data = PackedInt32Array()
layer_4/name = "Decor"
layer_4/tile_data = PackedInt32Array()

[node name="Decor" type="Node2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(0.5, 0.5)

[node name="GodotGrid" type="Node2D" parent="."]
z_index = 50
scale = Vector2(64, 64)
script = ExtResource("4_oddvp")
Offset = Vector2(32, 32)

[node name="BuildGrid" type="Node2D" parent="."]
z_index = 50
scale = Vector2(64, 64)
script = ExtResource("4_oddvp")
Offset = Vector2(32, 32)

[node name="Goblins" type="Node2D" parent="."]

[node name="GraphManager" type="Node2D" parent="." node_paths=PackedStringArray("shortSpot", "cutSpot", "outerSpot", "innerSpot")]
script = ExtResource("5_7ybra")
debugDraw = true
shortSpot = NodePath("ShortSpot")
cutSpot = NodePath("CutSpot")
outerSpot = NodePath("OuterSpot")
innerSpot = NodePath("InnerSpot")

[node name="ShortSpot" type="Node2D" parent="GraphManager"]
position = Vector2(544, -408)

[node name="CutSpot" type="Node2D" parent="GraphManager"]
position = Vector2(-96, 32)

[node name="OuterSpot" type="Node2D" parent="GraphManager"]
position = Vector2(-224, 352)

[node name="InnerSpot" type="Node2D" parent="GraphManager"]
position = Vector2(32, 40)

[node name="Phantoms" type="Node2D" parent="."]

[node name="BluePhantom" parent="Phantoms" node_paths=PackedStringArray("grid") instance=ExtResource("6_vfvob")]
modulate = Color(0.32549, 1, 1, 0.580392)
texture = ExtResource("7_a4xgi")
offset = Vector2(0, -76.45)
grid = NodePath("../../BuildGrid")
teamName = "blue"
towerScenePath = "res://scenes/actors/building/blue_tower.tscn"

[node name="RedPhantom" parent="Phantoms" node_paths=PackedStringArray("grid") instance=ExtResource("6_vfvob")]
modulate = Color(1, 0.701961, 0.701961, 0.85098)
texture = ExtResource("8_8r8wu")
offset = Vector2(0, -42.635)
grid = NodePath("../../BuildGrid")
teamName = "red"
towerScenePath = "res://scenes/actors/building/red_tower.tscn"

[node name="DebugCanvas" parent="." node_paths=PackedStringArray("graph_manager") instance=ExtResource("9_t8g31")]
graph_manager = NodePath("../GraphManager")
